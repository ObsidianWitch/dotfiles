#!/bin/bash

set -o errexit -o nounset

# Synopsis
#   dotcp src... dest[/]`
# Description
#   Copy files/dirs and create parent directories if necessary.
dotcp() {
    [[ "$#" -ge 2 ]] || doterr 'missing file operand'
    dotmkdir "${*: -1}"
    cp --no-dereference --recursive "$@"
}

dotcp "$@"
